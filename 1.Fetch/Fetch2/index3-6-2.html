<!DOCTYPE html><!--https://www.yoheim.net/blog.php?q=20170107-->
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>POSTリクエスト</title>
</head>
<body>
<script>

/*fetchの基本的な使い方
  以下のような形式で利用することができます。

  fetch(url, options).then(function (response) {

    // handle HTTP response

  }, function (error) {

      // handle network error

  });

    urlとoptionsを指定してfetchを呼び出し、結果はPromiseベースで受け取ります。
    レスポンスには例えば以下のようなものが含まれます。

    fetch(url, options).then(function (response) {

      // ステータスコード
      console.log(response.status); // 200

      // ステータス（文字列）
      console.log(response.statusText); // 'OK'

      // レスポンスヘッダー
      console.log(response.headers); //  {} : オブジェクト形式で取得可能

      // URL
      console.log(response.url); // http://localhost:3000/sample

    });

    具体的な使い方は以降で見ていきたいと思います。

    結果をテキストファイルやHTMLで受け取る

    レスポンス結果をテキストベースで受け取る場合には、
    response.text()で取り出します。 */

  fetch('/text').then(response => {

    // textやhtmlなどの文字列で値を受け取る場合は、textメソッドを呼びます.
    // このメソッドはPromiseを返却します。
    return response.text();

  }).then(text => {

    // Promiseが解決されたら値が取得できます.
    console.log('text:', text); // text: 鈴木さん
    
  });




</script>

</body>
</html>
