<!DOCTYPE html><!-- https://qiita.com/Molly95554907/items/730220dfc1178e78d7ce -->
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>fetchで取得したデータからJSONを取得しDOM操作に利用する</title>
</head>
<body>
<script>

//fetchで取得したデータからJSONを取得しDOM操作に利用する

const url = {

  "results":[

    { "name": "太郎",
    "age": 20},

    { "name": "次郎",
    "age": 25},

    { "name": "三郎",
    "age": 30}
    
  ]
}

//操作したいHTML領域を取得
const name = document.getElementById('name');
const age = document.getElementById('age');

//APIからJSONデータを取得する
fetch(url)
  .then((response) => {
      return response.json() //ここでBodyからJSONを返す
  })
  
  .then((result) => {
       Example(result);  //取得したJSONデータを関数に渡す 
  })
  .catch((e) => {
       console.log(e)  //エラーをキャッチし表示     
  })


  //JSONデータを引数に受け取ってDOM操作を行う関数を作成
  function Example(jsonObj){

    const data = jsonObj.results[0]

    name.textContent = data.name;

    age.textContent = data.age;

  }

</script>

  <!--実行結果:

    // 実行するとwindowに左にcanvas、右にSubmitが表示される ：fetch2.png
    // canvasに何かを書いてSubmitすると、以下が表示される。
    Image saved, size:943.        // alert

    -->

</body>
</html>
